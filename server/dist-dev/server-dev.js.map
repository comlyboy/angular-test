{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app.ts","webpack:///./src/middleware/auth-check.ts","webpack:///./src/model/customer.ts","webpack:///./src/model/user.ts","webpack:///./src/routes/customer.ts","webpack:///./src/routes/user.ts","webpack:///./src/server.ts","webpack:///external \"bcrypt\"","webpack:///external \"body-parser\"","webpack:///external \"cors\"","webpack:///external \"debug\"","webpack:///external \"express\"","webpack:///external \"http\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"mongoose\"","webpack:///external \"mongoose-unique-validator\"","webpack:///external \"tslib\""],"names":[],"mappings":"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","file":"server-dev.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/server.ts\");\n","// cors gives permissin to  \"GET, POST, PUT, PATCH, DELETE, OPTIONS\" capability\r\n// mongoose makes schema possible in mongo DB\r\n// bodyparser exposes the body portion of an incoming request on \"req.body\"\r\n\r\n\r\nimport express from 'express';\r\nimport bodyParser from 'body-parser';\r\nimport mongoose from 'mongoose';\r\nimport cors from 'cors';\r\n// const metrics = require(\"./controller/customerMetrics\");\r\nimport customersRoutes from './routes/customer';\r\n// import statusRoutes from './routes/deviceStatus';\r\n// import incomeRoutes from './routes/income';\r\n// import deviceTypeRoutes from './routes/deviceType';\r\nimport usersRoutes from './routes/user';\r\n\r\n\r\nconst app = express();\r\n\r\napp.use(cors());\r\napp.use(bodyParser.json());\r\n// app.use(bodyParser.urlencoded({extended: true}));\r\n\r\n\r\n// permissions\r\napp.use((req, res, next) => {\r\n    res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\r\n    res.setHeader(\"Access-Control-Allow-Headers\",\r\n        \"Origin, X-Requested-With, Content-Type, Accept, Authorization\");\r\n    res.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, PATCH, DELETE, OPTIONS\");\r\n    next();\r\n});\r\n\r\n// Connecting to mongo DB compass\r\nmongoose.connect(\"mongodb://localhost:27017/Handyman_DB\", { useNewUrlParser: true, useCreateIndex: true })\r\n\r\n    // Connecting to mongoDB atlas\r\n    // mongoose.connect(\"mongodb+srv://cornelius:d8c8fLcOVovfzHpo@cluster1-pauiv.mongodb.net/easy-client?retryWrites=true&w=majority\", { useNewUrlParser: true })\r\n\r\n    .then(() => {\r\n        console.log('Connected to database!!!');\r\n    })\r\n    .catch(() => {\r\n        console.log('can not connect to database');\r\n    });\r\n\r\n// For various routes\r\napp.use('/api', customersRoutes);\r\n// app.use('/api', incomeRoutes);\r\n// app.use('/api', statusRoutes);\r\n// app.use('/api', deviceTypeRoutes);\r\napp.use('/api', usersRoutes);\r\n\r\n\r\n\r\nexport default app;","// this file checks for user token presence and if it's valid credentials to log in\r\n// is meant to be protect customer route\r\n\r\nimport jwt from 'jsonwebtoken';\r\nimport express from 'express';\r\n\r\nexport default (req: express.Request, res: express.Response, next: express.NextFunction) => {\r\n    try {\r\n        const authorization = req.headers.authorization || \"\";\r\n        const token = authorization.split(\" \")[1];\r\n        const decodedToken = jwt.verify(token, 'is_a_secret_dont_tell_anybody');\r\n        req[\"userData\"] = { userName: decodedToken.userName, userId: decodedToken.userId };\r\n        next();\r\n    } catch (error) {\r\n        res.status(401).json({\r\n            message: \"Auth don fail o!!!!\"\r\n        })\r\n    }\r\n};","import mongoose from 'mongoose';\r\n\r\n\r\nexport interface ICustomer {\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    phoneNumber: string;\r\n    deviceType: string;\r\n    brandModel: string;\r\n    imeiNumber: string;\r\n    status: string;\r\n    amount: number;\r\n    advancePaid: number;\r\n    description: string;\r\n    created: Date;\r\n    createdBy: string;\r\n}\r\n\r\nconst customerShema = new mongoose.Schema({\r\n    firstName: {\r\n        type: String,\r\n        required: true,\r\n        trim: true\r\n    },\r\n    lastName: { type: String, required: true, trim: true },\r\n    email: { type: String, required: true, unique: true, lowercase: true, trim: true },\r\n    phoneNumber: { type: String, required: true, trim: true },\r\n    deviceType: { type: String, required: true, trim: true },\r\n    brandModel: { type: String, required: true, trim: true },\r\n    imeiNumber: { type: String, required: true, trim: true },\r\n    status: { type: String, required: true, trim: true, default: 'In progress' },\r\n    amount: { type: Number, required: true, trim: true },\r\n    advancePaid: { type: Number, required: true, trim: true },\r\n    description: { type: String, required: true, trim: true },\r\n    created: { type: String, default: Date.now },\r\n    createdBy: { type: mongoose.Schema.Types.ObjectId, ref: \"User\", required: true }\r\n});\r\n\r\nexport default  mongoose.model<any>('Customer', customerShema);","import mongoose from 'mongoose';\r\nimport uniqueValidator from 'mongoose-unique-validator';\r\n\r\n\r\nexport interface IUser {\r\n    firstName: string;\r\n    lastName: string;\r\n    username: string;\r\n    password: string;\r\n\r\n}\r\n\r\n\r\n\r\nconst userShema = new mongoose.Schema({\r\n    firstName: { type: String, required: true, trim: true },\r\n    lastName: { type: String, required: true, trim: true },\r\n    userName: { type: String, required: true, lowercase: true, unique: true, trim: true },\r\n    password: { type: String, required: true, trim: true },\r\n});\r\n\r\n\r\nuserShema.plugin(uniqueValidator);\r\n\r\nexport default mongoose.model<any>('User', userShema);","import express from 'express';\r\nimport Customer, { ICustomer } from '../model/customer';\r\nimport authCheck from '../middleware/auth-check';\r\n\r\nconst router = express.Router();\r\n\r\n\r\n\r\n// Saving new customer to the database\r\nrouter.post('/customers', authCheck, (req, res, next) => {\r\n\r\n    const _customer: ICustomer = req.body;\r\n\r\n    const customer = new Customer({\r\n        firstName: _customer.firstName,\r\n        lastName: _customer.lastName,\r\n        email: _customer.email,\r\n        phoneNumber: _customer.phoneNumber,\r\n        deviceType: _customer.deviceType,\r\n        brandModel: _customer.brandModel,\r\n        imeiNumber: _customer.imeiNumber,\r\n        amount: _customer.amount,\r\n        advancePaid: _customer.advancePaid,\r\n        description: _customer.description,\r\n        createdBy: req[\"userData\"].userId\r\n    });\r\n\r\n    customer.save()\r\n        .then(result => {\r\n            console.log(result)\r\n            res.status(201).json({\r\n                message: 'Post added!!!',\r\n                customerID: result._id\r\n            });\r\n        });\r\n});\r\n\r\n\r\n// Getting customers from database\r\nrouter.get('/customers', authCheck, (req, res, next) => {\r\n    const pageSize = +req.query.pagesize;\r\n    const currentPage = +req.query.page;\r\n    const customerQuery = Customer.find({ createdBy:  req[\"userData\"].userId });\r\n    let fetchedCustomers;\r\n    if (pageSize && currentPage) {\r\n        customerQuery.skip(pageSize * (currentPage - 1))\r\n            .limit(pageSize);\r\n    }\r\n    customerQuery\r\n        .then(document => {\r\n            fetchedCustomers = document;\r\n            return Customer.countDocuments();\r\n        })\r\n        .then(count => {\r\n            res.status(200).json({\r\n                message: 'Customer fetched!!!',\r\n                customers: fetchedCustomers,\r\n                totalCustomers: count\r\n            });\r\n        });\r\n\r\n});\r\n\r\n\r\n// Getting customer for editing and details page\r\nrouter.get('/customers/:_id', authCheck, (req, res, next) => {\r\n    Customer.findById({ _id: req.params._id, createdBy:  req[\"userData\"].userId }).then(customer => {\r\n        if (customer) {\r\n\r\n            res.status(200).json(customer);\r\n            // console.log(customer)\r\n        } else {\r\n            res.status(404).json({ message: \"can't find customer!\" });\r\n        }\r\n    })\r\n})\r\n\r\n\r\n// Deleting a customer\r\nrouter.delete('/customers/:_id', authCheck, (req, res, next) => {\r\n    Customer.deleteOne({ _id: req.params._id, createdBy:  req[\"userData\"].userId }).then(result => {\r\n        // if (result.deletedCount > 0) {\r\n        //     console.log(result)\r\n\r\n        //     res.status(200).json({ message: 'Delete successfull!!!' });\r\n        // } else {\r\n        //     console.log(result)\r\n\r\n        //     res.status(401).json({ message: 'Delete not allowed!!!' });\r\n        // }\r\n    });\r\n});\r\n\r\n\r\n// Editing customer details\r\nrouter.put('/customers/:_id', authCheck, (req, res, next) => {\r\n    const _customer: ICustomer = req.body;\r\n\r\n    Customer.findById({ _id: req.params._id, createdBy:  req[\"userData\"].userId }).then(customerDb => {\r\n        if (customerDb) {\r\n\r\n            const custRealObj = JSON.parse(JSON.stringify(customerDb))\r\n\r\n            const customer = Object.assign({}, custRealObj, {\r\n                firstName: _customer.firstName,\r\n                lastName: _customer.lastName,\r\n                email: _customer.email,\r\n                phoneNumber: _customer.phoneNumber,\r\n                deviceType: _customer.deviceType,\r\n                brandModel: _customer.brandModel,\r\n                imeiNumber: _customer.imeiNumber,\r\n                amount: _customer.amount,\r\n                advancePaid: _customer.advancePaid,\r\n                description: _customer.description\r\n            });\r\n\r\n            Customer.updateOne({ _id: req.params._id, createdBy:  req[\"userData\"].userId }, customer).then(result => {\r\n                if (result.nModified > 0) {\r\n                    console.log(result)\r\n\r\n                    res.status(200).json({ message: 'Update successfull!!!' });\r\n                } else {\r\n                    console.log(result)\r\n\r\n                    res.status(401).json({ message: 'Not allowed!!!' });\r\n\r\n                }\r\n            })\r\n        } else {\r\n            res.status(404).json({ message: \"can't find customer!\" });\r\n        }\r\n    })\r\n});\r\n\r\nexport default router;","// jwt is a token dependency for verifying user in middleware\r\n// bcrypt prevent the password from saving as a plain text in d database\r\n// \r\n\r\n\r\n\r\nimport express from 'express';\r\nimport User from '../model/user';\r\nimport bcrypt from 'bcrypt';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nconst router = express.Router();\r\n\r\n\r\n// Adding new user\r\nrouter.post(\"/user/signup\", (req, res, next) => {\r\n    bcrypt.hash(req.body.password, 10)\r\n        .then(hash => {\r\n            const user = new User({\r\n                firstName: req.body.firstName,\r\n                lastName: req.body.lastName,\r\n                userName: req.body.userName,\r\n                password: hash\r\n            });\r\n            user.save()\r\n                .then(result => {\r\n                    res.status(201).json({\r\n                        message: \"User registered successfully!!!\",\r\n                        result: result\r\n                    });\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                    res.status(500).json({\r\n                        message: \"username already existing\",\r\n                        error: err\r\n                    });\r\n                });\r\n        });\r\n});\r\n\r\n\r\n\r\n// logging exxisting user\r\nrouter.post('/user/login', (req, res, next) => {\r\n    let fetchedUser;\r\n    User.findOne({ userName: req.body.userName })\r\n        .then(user => {\r\n            if (!user) {\r\n                return res.status(401).json({\r\n                    message: 'User not exist!!!'\r\n                });\r\n            }\r\n            fetchedUser = user;\r\n            return bcrypt.compare(req.body.password, user.password)\r\n        })\r\n        .then(result => {\r\n            if (!result) {\r\n                return res.status(401).json({\r\n                    messsage: \"User does not exist!!!\"\r\n                });\r\n            }\r\n            const token = jwt.sign({ userName: fetchedUser.userName, userId: fetchedUser._id }, 'is_a_secret_dont_tell_anybody', { expiresIn: '1h' }\r\n            );\r\n            res.status(200).json({\r\n                token: token,\r\n                expiresIn: '3500'\r\n            });\r\n        })\r\n        .catch(err => {\r\n            return res.status(401).json({\r\n                message: \"auth failled!!!\"\r\n            });\r\n        });\r\n});\r\n\r\n\r\nexport default router;","import app from \"./app\";\r\nconst debug = require(\"debug\")(\"node-angular\");\r\nimport http from \"http\";\r\n\r\nconst normalizePort = val => {\r\n    var port = parseInt(val, 10);\r\n\r\n    if (isNaN(port)) {\r\n        // named pipe\r\n        return val;\r\n    }\r\n\r\n    if (port >= 0) {\r\n        // port number\r\n        return port;\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\n\r\nconst onError = error => {\r\n    const addr = server.address();\r\n\r\n    if (error.syscall !== \"listen\") {\r\n        throw error;\r\n    }\r\n    const bind = typeof addr === \"string\" ? \"pipe \" + addr : \"port \" + port;\r\n    switch (error.code) {\r\n        case \"EACCES\":\r\n            console.error(bind + \" requires elevated privileges\");\r\n            process.exit(1);\r\n            break;\r\n        case \"EADDRINUSE\":\r\n            console.error(bind + \" is already in use\");\r\n            process.exit(1);\r\n            break;\r\n        default:\r\n            throw error;\r\n    }\r\n};\r\n\r\n\r\nconst onListening = () => {\r\n    const addr = server.address();\r\n    const bind = typeof addr === \"string\" ? \"pipe \" + addr : \"port \" + port;\r\n    debug(\"Listening on \" + bind);\r\n    console.log(\"Listening on \" + bind)\r\n\r\n};\r\n\r\nconst port = normalizePort(process.env.PORT || \"3000\");\r\napp.set(\"port\", port);\r\n\r\nconst server = http.createServer(app);\r\nserver.on(\"error\", onError);\r\nserver.on(\"listening\", onListening);\r\nserver.listen(port);\r\n","module.exports = require(\"bcrypt\");","module.exports = require(\"body-parser\");","module.exports = require(\"cors\");","module.exports = require(\"debug\");","module.exports = require(\"express\");","module.exports = require(\"http\");","module.exports = require(\"jsonwebtoken\");","module.exports = require(\"mongoose\");","module.exports = require(\"mongoose-unique-validator\");","module.exports = require(\"tslib\");"],"sourceRoot":""}